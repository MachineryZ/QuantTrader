# HFT Quant
本课程是由bilibili中hftquant up主提供的视频内容

## 第一讲 二级市场简介
1. 市场交易规则
    1. 股票
        1. 集合竞价和集合竞价：集合竞价是指再规定时间内接受的买卖申报一次性集中撮合的竞价方式。连续竞价是指对买卖申报逐笔连续撮合的竞价方式
        2. 交易时间：价格优先，时间优先。价格更优的报单更早成交，同样价格的报单先报的先成交
        3. 交易时间：9.15-9.25为开盘集合竞价时间，9.30-11.30，13.00-15.00为连续竞价时间，最后3分钟是收盘集合竞价
        4. 交易单位：通过竞价交易买入股票、基金、权证的，申报数量应当为100股或其整数倍。股价的报价单位为N元每股
        5. 涨跌幅：10%相对于昨日的收盘价，但是也有例外的情况，比如上市交易首日
        6. T+1：T日买入的股票第二日才能卖出
        7. 多空：只能做多不能做空
        8. 手续费和印花税：股票交易需要支付一定的手续费和印花税，手续取决于交易所和券商
    2. 期货
       1. 主流交易所：上海期货交易所、大连商品交易所、郑州商品交易所、中国金融期货交易所，前三个是商品期货交易所，交易品种包括金属、农产品等实物期货，最后一个是金融期货交易所，交易品种包括股指期货和国债期货等金融期货
       2. 交易时间：股票只有白天交易，但是期货有的交易所和品种是有夜盘的，而且白天交易时间也有所不同。白天 大商所，上期所，郑商所：9.00-10.15，10.30-11.30，13.30-15.00；中金所：9.30-11.30，13.00-15.00；夜盘 大商所，郑商所部分品种21.00-23.30；上期所 21.00-1.00（大多数金属），21.00-23.00（部分品种），21.00-2.30（金银），部分无
       3. 交易单位：size，一手为单位，根据商品特性决定，如1吨1手。
       4. 报价单位：N元/xx，xx为单位
       5. 手续费：平仓分为平今仓和平昨仓；手续费不同品种收取方式也不同，有的按照每手收取，有的按照成交额比例收取
       6. 交易规则：双向交易，可做多做空
       7. 交易方式：T+0随时买卖，撮合成交
       8. 保证金比例：不同商品保证金不同
       9. 结算时间：交易所自行决定
    3. 数字货币
       1. 交易时间：7*24，全年无休市
       2. 无涨跌停：虚拟货币交易没有涨跌停限制，股票有涨跌停限制
       3. 交易单位：最小为0.0001BTC，没有股票最少买一手的买入限制
       4. 随时交易：T+0，股票是T+1交易
       5. 提币与变现无时间限制：出金时间任何时候都可以

## 第二讲 常见策略
1. 股票策略
   1. BETA策略和ALPHA策略
      1. BETA：获得绝对收益的策略，也可以分为主观策略和量化策略，包括根据财务和行业研究等做的主观投资。用技术指标选股（通常所用数据为日数据）；以及用更高频的日内数据所作的量化策略等。举例：均线突破
      2. ALPHA：主要为了获得超额收益，即常说的跑赢指数，通常为多音字策略，数据一半来自基本面数据（财务）和量价数据。主要有基本面数据做出的多因子策略通常换仓慢，可能一周一次或者一个月换仓一次；主要由量价因子做出的多因子策略通常换仓频繁，可能每天换仓。也有用更高频的数据做出来的高频alpha策略，跟量价因子的主要区别在于量价因子一般用日数据选股。前一天晚上给出第二天的持仓，第二天白天的时候完成该持仓任务，而高频alpha策略根据实时收到的行情进行交易判断，实时给出当前具体时间点的交易任务。举例：反转因子，买入全市场近期跌幅最多的股票
   2. 其他非常规类型策略：T0策略，已经预测到的趋势，怎么吃到T0内的利润？通过底仓，比如借券，市面上的T0团队通常会通过借券的方式向长线投资者借底仓，到期后归还底仓和一定利息。
2. 期货策略
   1. CTA策略：通常只用相对低频的数据（1min，5min，30min）进行策略研究和交易的期货策略。举例：布林带反转策略（交易开拓者种有很多已经写好的简单cta策略函数），突破下轨开多，回到中线平仓。
   2. 高频策略：从极其短暂的市场变化中寻找利润的策略，所用数据是市场能拿到的最高频率的tick数据（例如0.5s/次），可能在1分钟内就能完成若干次交易。不限于期货。**套利策略**：套利策略也成为价差交易策略，是指再买入或卖出某种交易合约的同时，卖出或买入相关的另一种合约，利用相关市场或相关合约之间的价差变化，期望价差发生有利变化而获利的一类策略。同一品种的跨期套利，两个关联品种套利，跨交易所套利。**趋势策略**：根据微观市场信息变化判断接下来一段时间的价格方向策略。**做市策略**：在盘口流动性较差的品种提供流动性，赚取流动性趋势的利润。
3. 数字货币
   1. 数字货币市场的量化策略与股票和期货策略类似，但是因为该市场是新兴的不成熟的市场，因此在比较热门的17，18年，交易者多而且非理性投资者多，套利策略，搬砖策略和做市策略会有很高的收益。缺点是数字货币交易不受监管，可能会有交易风险。套利例子：假设有一个xyz交易对，X/USDT，X/ETH，ETH/USDT，这三个交易对，一旦相互乘积不是1，则存在套利机会（不考虑手续费的情况）。

## 第三讲 指数数据

1. 指数截面数据
   1. 股价指数（股市指数、股票指数）包含多种股票，是反映市场上组成股票价值的一个数据。它通常被用于展现组成股票的共通特性，例如在同一个交易所交易，属于同一个产业，或有相同的市值。
   2. 截面数据又称为切片数据。A股的截面数据是根据指定的时间间隔进行一次检查，如果该时间段内有动作（报单撤单），就生成一次快照（snapshot）并推送出来。
2. 原始指数数据
   1. 000905 中证500
   2. 399006 创业板指
   3. trading day（交易日期）；timestep（时间戳，000开头指数，上交所编制，5秒一个；399开头指数，深交所编制，3秒一个），exchangeid（上海SSE，深圳SZE）；instrumentid（指数代码）；precloseind（index昨收价）；openindex（指数开盘价）；closeindex（指数收盘价，只有3点才会推送，其他时刻为0）；highindex（到目前为止最高的index价格）；lowindex（到目前为止最低的index价格）；lastindex（截取截面时最新的index价格）；turnover（所有成分股的总成交额）；totalvolume（所有成分股的总的成交量）
   4. 由于不同指数的频率不一样，使用时需要统一格式。比如9：33：21有一个数据，下一个数据应该是9：33：26，所以9：33：24秒的时候的数据是由9：33：26填充到9：33：24的时候。
3. 常用指数
   1. 上证指数：包含所有在上交所上市的股票
   2. 深证成指：包含所有在深交所上市的股票
   3. 上证50：
   4. 沪深300：大盘股指数，上海和深圳两个交易所选出来最具市场影响力的300个大市值公司股票作为权重计算出的指数。用来反映沪深证券市场的整体状况。具体方法：1）最近一年的A股日均成交金额由高到低排名，剔除排名后50%的股票。2）对剩余股票按照最近一年A股日均总市值由高到低排名，选取前300名股票作为指数样本。
   5. 中证500：小盘股指数。选取办法：1）在样本空间中剔除沪深300指数样本股及最近一年日均总市值排名前300名的股票，筛选标准是最近一年日均总市值排名前300名的股票后剩余股票总市值排名在前500名的股票。2）将剩余股票按照最近一年（新股上市以来）的最近一年日均成交金额由高到低排名，剔除排名后20%的股票。3）将剩余股票，按照最近一年日均总市值由高到低排名，选取排名在前500名的股票组成中证500的样本股。
   6. 中证1000：
   7. 创业板综：
   8. 创业板指：
   9. 中小板指：
   10. 中小板综：
   11. 注意：1）指数是按照调整市值加权（不同市值同样涨1%，对指数的影响不一样）2）成分股分红时，不修正指数，指数自然回落。3）同花顺种的白线/黄线，白线是加权价格，黄线是等权价格。4）原始数据毛刺很多，需要平滑处理。比如温氏股份（300498）在创业板指（399006）的权重占比高达8%。
4. 


